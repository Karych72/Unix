# Домашнее задание №2

**Дедлайны**: 2018.09.21 23:59 (мягкий), 2018.09.25 12:10 (жесткий)

Перед сдачей задания необходимо ознакомиться с информацией по 
[ссылке](https://gitlab.com/scripting-languages/masters-2018/unix-assignments/blob/master/README.md).

## Задачи

#### 1. Переменная

На место многоточия в команду

    grep -Ps "..." <<< "$1"

вписать регулярное выражение, принимающее объявление переменных в формате

    TypeInCamelCase varInCamelCase;

Примечания:
* Имя переменной может начинаться только с маленькой латинской буквы или с `m_`.
* Имя переменной может заканчиваться символом `_`.
* Имя типа может начинаться только с большой латинской буквы.
* Допустимые символы внутри имен: цифры и латинские буквы.
* Между именем типа и именем переменной может быть 1 и более пробельных символов; кроме этой позиции пробельных символов в строке быть не может.
* Регулярное выражение должно либо принимать все строку целиком, либо отвергать ее.
* Дополнительные ключи `grep` использовать нельзя.

#### 2. СКС

Вам доверено написать межсетевой экран на одном высоконагруженном сервере. Он будет представлен в виде `bash` скрипта.
Система контроля сервера (СКС) будет запускать ваш скрипт, и передавать ему в качестве параметра файл, на каждой строчке 
которого указан заблокированный домен. На стандартный ввод скрипта СКС будет посылать адреса страниц, которые хочет 
посетить пользователь. В ответ на каждый запрос необходимо вывести `ALLOW`, если доступ к данному сайту разрешен, 
и `DENY` в противном случае. Важно -- домен блокируется вместе со всеми своими поддоменами.

Пример файла:

    nescafe.ru
    www.rutracker.org

Пример ввода/вывода:

    http://rutracker.org/cnc5                               ALLOW
    http://www.rutracker.org/cnc5                           DENY
    http://ivan:123@yyy.photography:2218/cnc5/1/2/3.html    ALLOW
    https://v.www.rutracker.org/cnc5                        DENY
    https://yyy.org/cnc5                                    ALLOW
    http://ivan:123@yyy.photography:2218/cnc5               ALLOW

Гарантируется, что в адресе страницы будут только символы из латинского алфавита (оба регистра), цифры, дефисы, точка и косая черта.

Формат URL можно найти [здесь](https://ru.wikipedia.org/wiki/URL#Структура_URL).

#### 3. #include

Дан файл `file.c`, вывести все хедеры (только имена самих библиотек).

Пример входного файла:

    #include <stdio.h>
    #include "mylib.h"
    
    int main() {
        // #include "comment.h"
        printf("#include <literal.h>");
        return 0;
    }

Пример вывода:

    stdio
    mylib
    
Примечания:
* Можно считать, что имя включаемого файла не включает переносы строк и находится на той же строке, что и `#include`.

#### 4. Телефонная книжка

Имя, Фамилия, Телефон -- телефонная книжка в формате csv. 
Преобразовать в html, который можно просматривать в браузере. 
Только с помощью `sed`!

Пример входного файла:

    Имя,Фамилия,Телефон
    Петр,Иванов,1234567
    Иван,Петров,7654321

#### 5. ifconfig

Утилита `ifconfig`, выводит названия интерфейсов и их параметры.
Необходимо все IP-адреса (inet) всех интерфейсов заменить на `xxx.x.x.x`, где каждый `x` соответствует **одной цифре** в IP-адресе.
Также нужно разделить интерфейсы строкой из дефисов.

#### 6. Зоопарк

Перед вами есть csv файл, содержащий данные о животных зоопарка:

    id;name;h;strike;color
    1;Chicken;12;0.38;Yellow
    2;Goose;18;0.11;Green
    3;Orca;8;0.81;Yellow
    4;Porcupine;19;0.74;Yellow
    5;Bear;23;0.14;Green
    6;Turtle;4;0.08;Black

Вы устраиваете бои без правил. Перед вами стоит задача вывести имя животного (`name`) и тангенс его ударной силы (`strike`). 
Но вы можете это сделать только для животных, перед которыми было нечетное число животных того же цвета (`color`);

Пример вывода:

    Orca            1.0505
    Bear            0.1409

Примечания:
* Разрешено использовать только `awk`.
* Тангенс выводите с точностью 4 знака после запятой.

#### 7. Игра

Михаил и Алексей играют в игру. Михаил дает Алексей csv файл следующего вида:

    name;text
    Vladimir;aaakaea
    Anastasia;qwqwqw
    Sergei;uiwq]a
    Mikhail;aaaqaa

Алексей в ответ для имен четной длины, начинающихся с согласной, выводит `YES`,
если поле `text` можно **одной заменой** преобразовать в палиндром и `NO` в противном случае.

Пример вывода:

    Vladimir~YES
    Sergei~NO

Примечания:
* Разрешено использовать только `awk`.
* Имя может начинаться только с большой латинской буквы, внутри имени могут встречаться только маленькие латинские буквы.
* Пустую строку нельзя преобразовать одной заменой в палиндром, зато в уже готовом палиндроме можно заменить один символ на самого себя и опять получить палиндром.

#### 8. 123-456-789

На месте троеточия необходимо вписать регулярное выражение (+ команды, аналогичные командам из `sed`),
которое разбивает все длинные числа из переданной строка на группы по 3 цифры, вставляя между группами символ `-`.
        
    perl -pe '...' <<< "$1"
    
Если длина числа не делится на 3, то в первой группе может оказаться 1 или 2 цифры.

Пример ввода / вывода:

    123456789                    ->  123-456-789
    1234567                      ->  1-234-567
    123 (123456) 12345           ->  123 (123-456) 12-345
    My password is lol123456kek  ->  My password is lol123456kek

Примечания:
* Числом считается **слово**, состоящее только из цифр.
* Писать полноценный код на `perl` нельзя, только регулярное выражение (+ команды, аналогичные командам в `sed`, если понадобятся).

#### 9. IP

Требуется вычислить недоброжелателей по IP. Файл `ips.txt` содержит их IP-адреса по одному на строку.
Нужно вывести в `stdout` список городов, в которых находятся недоброжелатели.

Примечания:
* Адресов может быть очень много, поэтому работу с сетью необходимо распараллелить.
* Для обработки данных можно использовать только `sed`.
* Для запросов по сети и распараллеливания ограничений нет.
* Учтите, что некоторые способы распараллеливания могут привести к перемешиванию данных при выводе, что недопустимо.
* Проверьте, что по крайней мере для вашего IP скрипт выдает правильный город.
